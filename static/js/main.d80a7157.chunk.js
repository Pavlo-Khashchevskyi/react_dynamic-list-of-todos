(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var n=c(13),s=c.n(n),r=c(2),a=c(0),o=(c(25),c(26),c(27),c(41)),i=c(16),l=c.n(i),u=c(1),d=function(e){var t=e.todos,c=e.selectedUserId,n=e.changeUser,s=Object(a.useState)(""),i=Object(r.a)(s,2),d=i[0],j=i[1],b=Object(a.useState)("all"),h=Object(r.a)(b,2),O=h[0],p=h[1],f=Object(a.useState)(!1),m=Object(r.a)(f,2),_=m[0],x=m[1],v=Object(a.useMemo)((function(){var e=t.filter((function(e){return e.title.toLocaleLowerCase().includes(d.toLocaleLowerCase())}));if(_)for(var c=e.length-1;c>0;c-=1){var n=Math.floor(Math.random()*(c+1)),s=[e[n],e[c]];e[c]=s[0],e[n]=s[1]}switch(O){case"active":e=e.filter((function(e){return!1===e.completed}));break;case"completed":e=e.filter((function(e){return!0===e.completed}))}return e}),[t,d,O,_]);return Object(u.jsxs)("div",{className:"TodoList",children:[Object(u.jsx)("h2",{children:"Todos:"}),t.length?Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"TodoList__filters",children:[Object(u.jsx)("input",{className:"TodoList__filter TodoList__input",type:"text",value:d,placeholder:"Type search todo...",onChange:function(e){j(e.target.value)}}),Object(u.jsxs)("select",{className:"TodoList__filter TodoList__select",defaultValue:O,onChange:function(e){p(e.target.value),x(!1)},children:[Object(u.jsx)("option",{value:"all",children:"all"}),Object(u.jsx)("option",{value:"active",children:"active"}),Object(u.jsx)("option",{value:"completed",children:"completed"})]}),Object(u.jsxs)("button",{className:"TodoList__filter TodoList__btn",type:"button",onClick:function(){x(!_)},children:["Randomize ",_?"ON":"OFF"]})]}),Object(u.jsx)("div",{className:"TodoList__list-container",children:Object(u.jsx)("ul",{className:"TodoList__list",children:v.map((function(e){return Object(u.jsxs)("li",{className:l()("TodoList__item",{"TodoList__item--unchecked":!e.completed},{"TodoList__item--checked":e.completed}),children:[Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{type:"checkbox",readOnly:!0}),Object(u.jsx)("p",{children:e.title})]}),e.userId===c?Object(u.jsxs)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",children:["User\xa0#",e.userId]}):Object(u.jsxs)("button",{onClick:function(){n(e.userId)},className:" TodoList__user-button button ",type:"button",children:["User\xa0#",e.userId]})]},e.id)}))})})]}):Object(u.jsx)(o.a,{})]})},j=c(18),b=c(10),h=c.n(b),O="https://mate.academy/students-api",p=function(){var e=Object(j.a)(h.a.mark((function e(t){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/users/").concat(t));case 3:return c=e.sent,e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!Error);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),f=(c(32),function(e){var t=e.userId,c=e.changeUser,n=Object(a.useState)(null),s=Object(r.a)(n,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){p(t).then((function(e){i(e||null)}))}),[t]),Object(u.jsx)(u.Fragment,{children:o?Object(u.jsxs)("div",{className:"CurrentUser",children:[Object(u.jsx)("h2",{className:"CurrentUser__title",children:Object(u.jsxs)("span",{children:["Selected user: ",o.id]})}),Object(u.jsx)("h3",{className:"CurrentUser__name",children:o.name}),Object(u.jsx)("p",{className:"CurrentUser__email",children:o.email}),Object(u.jsx)("p",{className:"CurrentUser__phone",children:o.phone}),Object(u.jsx)("button",{type:"button",onClick:function(){i(null),c(0)},children:"Clear"})]}):Object(u.jsx)("p",{children:"Don't have data about a user"})})}),m=function(){var e=Object(a.useState)(0),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),o=Object(r.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){fetch("".concat(O,"/todos")).then((function(e){return e.json()})).then((function(e){l(e)}))}),[]);var j=function(e){n(e)};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("div",{className:"App__sidebar",children:Object(u.jsx)(d,{todos:i,selectedUserId:c,changeUser:j})}),Object(u.jsx)("div",{className:"App__content",children:Object(u.jsx)("div",{className:"App__content-container",children:c?Object(u.jsx)(f,{userId:c,changeUser:j}):"No user selected"})})]})};s.a.render(Object(u.jsx)(m,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.d80a7157.chunk.js.map